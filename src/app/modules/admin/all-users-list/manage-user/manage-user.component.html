<div class="modal-header bg-light pb-3">
    <h4 class="modal-title mb-0" id="modal-basic-title">{{"MANAGEUSER"|translate}}</h4>
    <button type="button" class="btn-close" aria-label="Close" (mousedown)="close()"></button>
</div>
<div class="modal-body p-2 h-100" style="min-height: 50vh;" >



    <!-- Nav tabs -->

    
    <ul ngbNav #ModifierCustom="ngbNav" [activeId]="1" class="nav nav-pills nav-customs-light nav-primary mb-3">
        <li [ngbNavItem]="1">
            <a ngbNavLink class="nav-link">
                {{"Edit User"|translate}}
            </a>
            <div class="alert alert-warning" *ngIf="user.note"> {{user.note}}</div>
            <ng-template ngbNavContent>
                <edit-user [user]="user" [isTab]="true"></edit-user>
            </ng-template>
        </li>
        <li [ngbNavItem]="2">
            <a ngbNavLink class="nav-link">
                {{"Documents"|translate}}
            </a>
            <ng-template ngbNavContent>
                <div class="text-center mt-3" *ngIf="loadingDocs">
                    <a href="javascript:void(0);" class="text-success "><i
                            class="mdi mdi-loading mdi-spin fs-20 align-middle me-2"></i>
                        {{"Loading"|translate}} </a>
                </div>
                <div class="card">

                    <div class="card-body" *ngIf="!loadingDocs">
                        <user-docs [user]="user" [docs]="docs"></user-docs>
                    </div>
                </div>
            </ng-template>
        </li>
        <li [ngbNavItem]="3">
            <a ngbNavLink class="nav-link">
                {{"Transactions History"|translate}}
            </a>
            <ng-template ngbNavContent>
                <user-tx-reqs [user]="user"></user-tx-reqs>
            </ng-template>
        </li>
        <li [ngbNavItem]="4">
            <a ngbNavLink class="nav-link">
                {{"User Gateways"|translate}}
            </a>
            <ng-template ngbNavContent>
                <allowed-gateways></allowed-gateways>
            </ng-template>
        </li>
        <li [ngbNavItem]="5">
            <a ngbNavLink class="nav-link">
                {{"Accounts"|translate}}
            </a>
            <ng-template ngbNavContent>
                <account-list [userId]="user.id" [userType]="user.type" [user]="user.firstName + ' ' + user.lastName" 
                    [isTabe]="true"></account-list>
            </ng-template>

        </li>
        <li [ngbNavItem]="6">
            <a ngbNavLink class="nav-link">
                {{"Accounts Requests"|translate}}
            </a>
            <ng-template ngbNavContent>
                <user-acc-reqs [user]="user"></user-acc-reqs>
            </ng-template>
        </li>

        <li [ngbNavItem]="7">
            <a ngbNavLink class="nav-link">
                {{"Logged in Devices"|translate}}
            </a>
            <ng-template ngbNavContent>
                <div class="card">
                    <div class="card-body">
                        <logged-devices [forUser]="true" [user]="user" [loggedInDevices]="loggedInDevices" [forUser]="true"></logged-devices>
                    </div>
                </div>
            </ng-template>
        </li>
        <li [ngbNavItem]="8">
            <a ngbNavLink class="nav-link">
                {{"Quick actions"|translate}}
            </a>
            <ng-template ngbNavContent>

            </ng-template>
        </li>
        <li [ngbNavItem]="9">
            <a ngbNavLink class="nav-link">
                {{"Add note"|translate}}
            </a>
            <ng-template ngbNavContent>
                <div class="modal-body">
                       <div class="row">
                            <div class="col-lg-12">
                                <div class="mb-3">
                                    <label for="zipcodeInput" class="form-label">{{'NOTE'|translate}}</label>
                                    <textarea type="text" class="form-control" id="streetAddress" placeholder="{{'ENTERNOTE'|translate}}"
                                       [(ngModel)]="note" ></textarea>
                                        
                                </div>
                            </div><!--end col-->
                        </div>
                
                        
                            <div class="d-flex justify-content-end">

                                
                                <button class="btn btn-success " (click)="addNote()" [disabled]="addingNote">{{!addingNote?"SAVENOTE":"SAVING"|translate}}
                                    <i
                                    class="mdi mdi-loading mdi-spin fs-20 align-middle me-2" style="line-height: 0.7;" *ngIf="addingNote"></i>
                                </button>
                            </div>
                            
                

                
                </div>
            </ng-template>
        </li>
    </ul>
    <div class="tab-content text-muted">
        <div [ngbNavOutlet]="ModifierCustom"></div>
    </div>

</div>